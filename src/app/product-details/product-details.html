<div *ngIf="product; else notFound;" class="container py-5">
  <div class="row g-4 align-items-center">

    <div class="col-md-6 text-center">
      <img [src]="product.image" [alt]="product.title" class="img-fluid rounded shadow" style="max-height: 400px; " />
    </div>

    <div class="col-md-6">
      <h1 class="display-5 fw-bold">{{ product.title }}</h1>
      
      <div class="mb-3 d-flex align-items-center">
        <div [innerHTML]="getStars(product.rating.rate)" class="me-2 text-warning fs-4"></div>
        <span class="text-muted">({{ product.rating.count }} reviews)</span>
      </div>
      
      <p class="lead text-secondary">{{ product.description }}</p>
      
      <h3 class="text-primary fw-bold mb-4">{{ product.price}}EGP</h3>

      <button (click)="addToCart(product)" class="btn btn-lg btn-success shadow-sm" >
        <i class="fas fa-shopping-cart me-2"></i> Add to Cart
      </button>
      <div *ngIf="addedToCartId === product.id" class="text-success mt-2 fw-bold">
                    <i class="fas fa-check-circle"></i> product Added to Cart
             </div>
    </div>
  </div>
</div>


<ng-template #notFound >
  <div class="container text-center py-5" *ngIf="!isLoading">
    <h3 class="text-danger">Sorry, product not found!</h3>
    <a routerLink="" class="btn btn-outline-primary mt-3">Back to Home</a>
  </div>
</ng-template>

<div class="d-flex justify-content-center align-items-center" *ngIf="isLoading">
   <span class="loader"></span>
</div>
